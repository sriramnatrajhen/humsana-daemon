Metadata-Version: 2.1
Name: humsana-daemon
Version: 1.0.0
Summary: AI that reads the room - stress and focus detection for Claude
Home-page: https://github.com/humsana/humsana-daemon
Author: Humsana
Author-email: hello@humsana.com
Project-URL: Bug Reports, https://github.com/humsana/humsana-daemon/issues
Project-URL: Source, https://github.com/humsana/humsana-daemon
Project-URL: Documentation, https://docs.humsana.com
Keywords: claude,ai,focus,stress,productivity,mcp
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Operating System :: POSIX :: Linux
Classifier: Operating System :: Microsoft :: Windows
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Provides-Extra: dev

# Humsana Daemon

ğŸ”’ **100% Local. Auditable Code. No Data Exfiltration.**

[![MIT License](https://img.shields.io/badge/License-MIT-green.svg)](https://choosealicense.com/licenses/mit/)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)

Humsana monitors your typing patterns to detect stress and focus levels. Your AI assistant (Claude) can use this to adapt responses â€” brief when you're stressed, detailed when you're relaxed.

## ğŸ¯ What It Does

```
You typing fast, lots of backspaces, erratic rhythm
â†’ Humsana detects: STRESSED (0.8)
â†’ Claude: Gives you a brief, direct answer

You typing steadily, consistent flow, no corrections
â†’ Humsana detects: FOCUSED (0.9)
â†’ Claude: Doesn't interrupt with clarifying questions
```

## ğŸ”’ Privacy Guarantee

**We never capture what you type.**

| What We Capture | What We DON'T Capture |
|-----------------|----------------------|
| âœ… Time between keystrokes | âŒ Key codes |
| âœ… Backspace count (not content) | âŒ Characters typed |
| âœ… Typing rhythm variance | âŒ Passwords |
| âœ… Session duration | âŒ Screen content |

All data stays in `~/.humsana/signals.db` on your machine.

**Audit the code yourself:** See `humsana/collector.py` lines 65-95 for the exact privacy implementation.

## ğŸ“¦ Installation

```bash
pip install humsana-daemon
```

## ğŸš€ Quick Start

```bash
# Start the daemon
humsana start

# Check your current state
humsana status

# View/edit config
humsana config
```

## ğŸ¤– Claude Desktop Integration

1. Install the MCP server:
```bash
npm install -g @humsana/mcp-server
```

2. Add to `~/.config/Claude/claude_desktop_config.json`:
```json
{
  "mcpServers": {
    "humsana": {
      "command": "npx",
      "args": ["@humsana/mcp-server"]
    }
  }
}
```

3. Restart Claude Desktop

Now Claude will automatically adapt to your mental state!

## âš™ï¸ Configuration

Edit `~/.humsana/config.yaml`:

```yaml
# Commands that trigger warnings when you're stressed
dangerous_commands:
  - "rm -rf"
  - "DROP DATABASE"
  - "git push --force"
  - "kubectl delete"
  - "terraform destroy"

# Thresholds (0.0 to 1.0)
stress_threshold: 0.7
focus_threshold: 0.6

# Webhooks for DIY integrations
webhooks:
  on_focus_start: null
  on_focus_end: null
  on_high_stress: null
```

## ğŸ“Š States Detected

| State | What It Means | AI Response Style |
|-------|---------------|-------------------|
| ğŸŸ¢ RELAXED | Low activity, calm | Friendly, detailed |
| ğŸ”µ WORKING | Normal activity | Detailed, helpful |
| ğŸ”· FOCUSED | Deep work, flow state | Don't interrupt |
| ğŸŸ¡ STRESSED | High velocity, corrections | Brief, direct |
| ğŸ”´ DEBUGGING | High stress + high activity | Concise, solutions only |

## ğŸ›¡ï¸ Focus Shield Pro ($10/mo)

Upgrade for additional features:

- **Slack Auto-Status**: Auto-set "ğŸ”´ Deep Focus" when you're in flow
- **macOS DND Sync**: Automatically enable Do Not Disturb
- **Dangerous Command Alerts**: Claude warns you before destructive commands

[Get Focus Shield â†’](https://humsana.com/pro)

## ğŸ”§ For Linux Users

The daemon works on Linux! For DND/Slack sync, use the webhooks:

```yaml
webhooks:
  on_focus_start: "http://localhost:8080/focus-start"
  on_focus_end: "http://localhost:8080/focus-end"
```

Then write your own script to handle these events.

## ğŸ› Troubleshooting

### "Permission denied" on macOS

macOS requires accessibility permissions for keyboard monitoring:

1. Go to System Preferences â†’ Security & Privacy â†’ Privacy â†’ Accessibility
2. Add your terminal app (Terminal, iTerm2, etc.)

### Daemon not detecting keystrokes

```bash
# Check if daemon is running
humsana status

# Restart
humsana start
```

### High CPU usage

The daemon should use <1% CPU. If higher:

```bash
# Check analysis interval in config
humsana config
# Increase analysis_interval to 10.0 or higher
```

## ğŸ“œ License

MIT License â€” do whatever you want with it.

## ğŸ¤ Contributing

PRs welcome! Especially for:
- Linux DND integrations
- Windows support improvements
- Additional state detection algorithms

## ğŸ“§ Support

- **Email**: contact@humsana.com

---

**Built with frustration after almost dropping a production database at 2am.**
